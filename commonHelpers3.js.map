{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", throttle(handlerInput, 500));\n\nconst localFeedbackKey = \"feedback-form-state\";\n\nlet email;\nlet message;\nlet formInput = {};\n\nfunction handlerInput(event) {\n    \n    if (event.target.name === \"email\") {\n        email = event.target.value;\n        formInput.email = email;\n    } else if (event.target.name === \"message\") {\n        message = event.target.value;\n        formInput.message = message;\n    }\n\n    localStorage.setItem(localFeedbackKey, JSON.stringify(formInput));\n}\n\nform.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n    console.log(formInput);\n    formInput = {};\n    localStorage.removeItem(localFeedbackKey);\n    form.reset();\n}\n\nconst parsedObject = JSON.parse(localStorage.getItem(localFeedbackKey));\n\nif (!parsedObject) {\n    form.elements.email.value = \"\";\n    form.elements.message.value = \"\";\n} else {\n    formInput.email = parsedObject.email;\n    formInput.message = parsedObject.message;\n    form.elements.email.value = parsedObject.email ?? \"\";\n    form.elements.message.value = parsedObject.message ?? \"\";\n};\n"],"names":["form","throttle","handlerInput","localFeedbackKey","email","message","formInput","event","handlerSubmit","parsedObject"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,EAASC,EAAc,GAAG,CAAC,EAE1D,MAAMC,EAAmB,sBAEzB,IAAIC,EACAC,EACAC,EAAY,CAAA,EAEhB,SAASJ,EAAaK,EAAO,CAErBA,EAAM,OAAO,OAAS,SACtBH,EAAQG,EAAM,OAAO,MACrBD,EAAU,MAAQF,GACXG,EAAM,OAAO,OAAS,YAC7BF,EAAUE,EAAM,OAAO,MACvBD,EAAU,QAAUD,GAGxB,aAAa,QAAQF,EAAkB,KAAK,UAAUG,CAAS,CAAC,CACpE,CAEAN,EAAK,iBAAiB,SAAUQ,CAAa,EAE7C,SAASA,EAAcD,EAAO,CAC1BA,EAAM,eAAc,EACpB,QAAQ,IAAID,CAAS,EACrBA,EAAY,CAAA,EACZ,aAAa,WAAWH,CAAgB,EACxCH,EAAK,MAAK,CACd,CAEA,MAAMS,EAAe,KAAK,MAAM,aAAa,QAAQN,CAAgB,CAAC,EAEjEM,GAIDH,EAAU,MAAQG,EAAa,MAC/BH,EAAU,QAAUG,EAAa,QACjCT,EAAK,SAAS,MAAM,MAAQS,EAAa,OAAS,GAClDT,EAAK,SAAS,QAAQ,MAAQS,EAAa,SAAW,KANtDT,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ"}